
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Mailto demo by mplungjan</title>
<script type='text/javascript'>
window.onload=function() {
  document.getElementById("e_form").onsubmit=function() {
    var e_add = this.emadd.value,
        subject1=this.subj.value,
        body=this.body.value,
        loc="mailto:"+e_add+"?subject="+encodeURIComponent(subject1)+"&body="+body;
    window.location=loc;
    return false; // cancel submit
  }
}
</script>
</head>
<body>
  <form id="e_form" enctype="text/plain">
  <div id="para1">  
    <p>Please select which lab you are in: </p>            
    <select name="subj">
      <option value="Lab_1 Support">Lab 1</option>
      <option value="Lab_2 Support">Lab 2</option>
      <option value="Lab_3 Support">Lab 3</option>
      <option value="Lab_4 Support">Lab 4</option>
      <option value="Lab_5 Support">Lab 5</option>
    </select>
  </div>       
  <div id="para2">
    <p>Please select which support you require:</p>
    <select name="emadd">
      <option value="re@abc.com">RE Support</option>
      <option value="admin@abc.com">Admin Support</option>
      <option value="system@abc.com">System Support</option>
      <option value="hwsw@abc.com">H/W &amp; S/W Support</option>
    </select>
    <input name="body"  type="hidden" value="I require support now!" />
  </div>
  <input type="submit" Value="Send"  />
    
    <div class="form">
  <form>
    <label>Name:</label>
    <input type="text" name="yourName"><br>
    <label>Email:</label>
    <input type="email" name="yourEmail"><br>
    <label>Message:</label><br>
    <textarea rows="10" cols="30" name="yourMessage"></textarea><br>
    <a target="_blank" class="button"  href="mailto:sk@gmail.com" id="mailtolink"><span>Submit</span></a>
  </form>
</div>
    
</form>
  
  <div class="form">
  <form>
    <label>Name:</label>
    <input type="text" name="yourName"><br>
    <label>Email:</label>
    <input type="email" name="yourEmail"><br>
    <label>Message:</label><br>
    <textarea rows="10" cols="30" name="yourMessage"></textarea><br>
    <a target="_blank" class="button"  href="mailto:...@gmail.com" id="mailtolink"><span>Submit</span></a>
  </form>
</div>
</body>
</html>
<script typr="text/javascript">window.addEventListener("load", function() {
  document.getElementById("mailtolink").addEventListener("click", function(e) {
    e.preventDefault() // remove after testing
    let url = new URL(this.href);
    const name = document.querySelector("[name=yourName]").value.trim();
    const email = document.querySelector("[name=yourEmail]").value.trim();
    const message = document.querySelector("[name=yourMessage]").value.trim();
    url.searchParams.set("from", email);
    url.searchParams.set("subject", "Message from " + (document.title || location.hostname))
    url.searchParams.set("body", name + " said " + message)
    this.href=url;
    console.log(url)
  })
});</script>
